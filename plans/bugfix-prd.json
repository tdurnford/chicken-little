{
  "project": {
    "name": "Chicken Coop Tycoon - Bug Fixes and Feature Improvements",
    "description": "Comprehensive bug fixes and feature improvements including store functionality, combat system, tutorial overhaul, predator AI, and random chicken behavior.",
    "createdDate": "2026-01-13",
    "priority": "high"
  },
  "mcpInstructions": {
    "description": "Use the Roblox Studio MCP server to interact with Roblox Studio directly for testing and verification.",
    "availableTools": [
      {
        "name": "run_code",
        "description": "Execute Luau code directly in Roblox Studio. Use this to test functionality, query game state, or make runtime changes.",
        "examples": [
          "Print all chickens in workspace: print(#game.Workspace:GetDescendants():filter(function(x) return x.Name == 'Chicken' end))",
          "Check player data: print(game.Players:GetPlayers()[1]:FindFirstChild('leaderstats'))",
          "Test UI visibility: game.Players.LocalPlayer.PlayerGui.StoreUI.Enabled = true"
        ]
      },
      {
        "name": "insert_model",
        "description": "Insert a model from the Roblox marketplace into the workspace by searching for it.",
        "examples": [
          "Insert a chicken model: query = 'chicken'",
          "Insert store props: query = 'shop counter'"
        ]
      }
    ],
    "workflow": [
      "1. Before implementing a feature, use run_code to understand current game state",
      "2. After making code changes, use run_code to verify the changes work in Roblox Studio",
      "3. Use insert_model if you need placeholder assets for testing",
      "4. Query game objects to ensure proper wiring between client and server"
    ],
    "requirements": [
      "Roblox Studio must be running with the MCP plugin installed",
      "The place file (build.rbxl) should be open in Studio",
      "Studio should be in Edit mode (not Play mode) unless testing runtime behavior"
    ]
  },
  "workItems": [
    {
      "id": 1,
      "category": "Store-BugFix",
      "title": "Fix Store E Key Interaction Not Working",
      "description": "Pressing E near the store shows prompt but doesn't open the store. Need to wire the input handler to the store opening logic.",
      "completed": true,
      "priority": "critical",
      "steps": [
        "Find the store proximity prompt or interaction trigger in client code",
        "Verify RemoteFunction for opening store exists and is connected",
        "Wire UserInputService E key press to call store open function when in range",
        "Ensure store UI is properly created and parented to PlayerGui",
        "Test that pressing E near store opens the store UI"
      ],
      "acceptanceCriteria": [
        "Pressing E near store opens the store UI",
        "Store UI displays available items",
        "Store UI can be closed with X button or pressing E again"
      ],
      "dependencies": [],
      "codeLocation": "src/client/Main.client.lua"
    },
    {
      "id": 2,
      "category": "Store-UI",
      "title": "Create Store UI Component",
      "description": "Implement a full store UI where players can browse and purchase eggs and chickens.",
      "completed": true,
      "status": "completed",
      "priority": "critical",
      "steps": [
        "Create StoreUI.lua module in client folder",
        "Design UI layout with tabs for Eggs, Chickens, Supplies",
        "Display item cards with name, rarity, price, and stock count",
        "Add purchase button for each item",
        "Show player's current money balance",
        "Add close button and escape key to close",
        "Wire purchase button to RemoteFunction calls"
      ],
      "acceptanceCriteria": [
        "Store UI displays all available items",
        "Items show name, rarity color, price, and remaining stock",
        "Player can purchase items if they have enough money",
        "UI updates when purchase is made",
        "Sold out items are greyed out"
      ],
      "dependencies": [
        1
      ],
      "codeLocation": "src/client/StoreUI.lua"
    },
    {
      "id": 3,
      "category": "Store-Inventory",
      "title": "Implement Store Inventory System",
      "description": "Create a store inventory system that tracks stock levels for each item.",
      "completed": true,
      "priority": "high",
      "steps": [
        "Add StoreInventory type to Store.lua module",
        "Create initial stock generation based on rarity weights",
        "Add getStoreInventory() function",
        "Add purchaseFromInventory() function that decrements stock",
        "Add isInStock() check function",
        "Track stock per item type"
      ],
      "acceptanceCriteria": [
        "Store has limited stock for each item",
        "Stock decrements when items are purchased",
        "Items can sell out (stock reaches 0)",
        "Sold out items cannot be purchased"
      ],
      "dependencies": [],
      "codeLocation": "src/shared/Store.lua",
      "status": "completed"
    },
    {
      "id": 4,
      "category": "Store-Replenish",
      "title": "Implement Store Replenishment Timer",
      "description": "Store should automatically replenish with random items every 5 minutes. Common items should be more common.",
      "completed": true,
      "status": "completed",
      "priority": "high",
      "steps": [
        "Add REPLENISH_INTERVAL constant (300 seconds = 5 minutes)",
        "Create replenishStore() function",
        "Implement weighted random selection favoring common items",
        "Define stock quantities per rarity (Common: 10, Uncommon: 5, Rare: 3, Epic: 2, Legendary: 1, Mythic: 0-1)",
        "Track lastReplenishTime in store state",
        "Wire server loop to call replenishStore every 5 minutes",
        "Fire StoreReplenished RemoteEvent to update all clients"
      ],
      "acceptanceCriteria": [
        "Store replenishes every 5 minutes automatically",
        "Common items appear more frequently than rare items",
        "Stock quantities vary by rarity",
        "All connected clients see updated inventory"
      ],
      "dependencies": [
        3
      ],
      "codeLocation": "src/shared/Store.lua"
    },
    {
      "id": 5,
      "category": "Store-Robux",
      "title": "Implement Robux Instant Store Replenish",
      "description": "Players can spend Robux to instantly replenish the store inventory.",
      "completed": false,
      "priority": "medium",
      "steps": [
        "Create Developer Product for store replenish (e.g., 50 Robux)",
        "Add ProcessReceipt handler for replenish product",
        "Call replenishStore() when product purchased",
        "Fire StoreReplenished event to all clients",
        "Add 'Replenish Now' button to Store UI with Robux icon",
        "Show confirmation dialog before purchase"
      ],
      "acceptanceCriteria": [
        "Players can purchase instant replenish with Robux",
        "Store inventory updates immediately after purchase",
        "All players see the refreshed inventory",
        "Receipt is properly recorded"
      ],
      "dependencies": [
        4
      ],
      "codeLocation": "src/server/Main.server.lua"
    },
    {
      "id": 6,
      "category": "Store-Robux",
      "title": "Implement Robux Item Purchase",
      "description": "Players can spend Robux to buy items from the store instead of in-game money.",
      "completed": false,
      "priority": "medium",
      "steps": [
        "Create Developer Products for Robux purchases at different tiers",
        "Add Robux price field to StoreItem type",
        "Calculate Robux price based on item rarity",
        "Add 'Buy with Robux' button next to each item",
        "Handle ProcessReceipt for item purchases",
        "Deliver item to player inventory on successful purchase"
      ],
      "acceptanceCriteria": [
        "Each store item has a Robux price option",
        "Players can buy items with Robux even if sold out for money",
        "Items are delivered to player inventory after purchase",
        "Transaction is recorded properly"
      ],
      "dependencies": [
        2,
        3
      ],
      "codeLocation": "src/server/Main.server.lua"
    },
    {
      "id": 7,
      "category": "Store-PowerUps",
      "title": "Implement Luck Power-Ups Store",
      "description": "Add purchasable power-ups that improve luck when hatching eggs and when chickens lay eggs.",
      "completed": false,
      "priority": "medium",
      "steps": [
        "Create PowerUpConfig.lua with power-up definitions",
        "Define Hatch Luck Boost (increases rare hatch chance)",
        "Define Egg Quality Boost (chickens produce better eggs)",
        "Add power-up tab to Store UI",
        "Create Developer Products for each power-up",
        "Add activePowerUps field to PlayerData",
        "Implement power-up duration tracking and expiry",
        "Modify EggHatching to apply luck boost",
        "Modify chicken egg production to apply quality boost"
      ],
      "acceptanceCriteria": [
        "Power-ups are available for Robux purchase",
        "Hatch Luck Boost increases rare chicken probability",
        "Egg Quality Boost improves egg rarity from chickens",
        "Power-ups have time duration and expire",
        "Active power-ups are shown in UI"
      ],
      "dependencies": [
        2
      ],
      "codeLocation": "src/shared/PowerUpConfig.lua"
    },
    {
      "id": 8,
      "category": "Combat-BugFix",
      "title": "Fix Baseball Bat Equipping Not Working",
      "description": "Players cannot arm the baseball bat to ward off players and predators. Need to wire the equip input.",
      "completed": true,
      "priority": "critical",
      "steps": [
        "Find the bat equip keybind in client code (should be a key like Q or number key)",
        "Verify BaseballBat.equip() is being called on keypress",
        "Create or update bat visual model that appears when equipped",
        "Wire equip state to server via RemoteEvent",
        "Add visual indicator showing bat is equipped",
        "Test equipping/unequipping bat with keybind"
      ],
      "acceptanceCriteria": [
        "Pressing designated key equips the baseball bat",
        "Bat model appears in player's hands when equipped",
        "Pressing key again unequips the bat",
        "Other players can see when someone has bat equipped"
      ],
      "dependencies": [],
      "codeLocation": "src/client/Main.client.lua"
    },
    {
      "id": 9,
      "category": "Combat-Health",
      "title": "Implement Predator Health Bar UI",
      "description": "Predators should display a health bar that players can see while attacking.",
      "completed": true,
      "status": "completed",
      "priority": "high",
      "steps": [
        "Create PredatorHealthBar.lua client module",
        "Create BillboardGui with health bar above predator models",
        "Show predator name and health percentage",
        "Update health bar when predator takes damage",
        "Hide health bar when predator is defeated",
        "Color code health bar (green > yellow > red)",
        "Wire to PredatorDefeated and damage events"
      ],
      "acceptanceCriteria": [
        "Health bar appears above active predators",
        "Health bar updates in real-time as predator takes damage",
        "Health bar shows predator name and type",
        "Health bar disappears when predator defeated"
      ],
      "dependencies": [],
      "codeLocation": "src/client/PredatorHealthBar.lua"
    },
    {
      "id": 10,
      "category": "Combat-Damage",
      "title": "Implement Predator Damage to Player",
      "description": "Predators should deal damage to players while the player is attacking them.",
      "completed": true,
      "priority": "high",
      "steps": [
        "Add damage values to PredatorConfig for each predator type",
        "Add player combat health to PlayerData (separate from Roblox health)",
        "Create damage tick system when player is in combat range",
        "Deal damage to player each second while in combat",
        "Show damage numbers floating up from player",
        "If player health reaches 0, knock them back and stun briefly",
        "Player health regenerates when out of combat"
      ],
      "acceptanceCriteria": [
        "Predators deal damage to players attacking them",
        "Damage rate varies by predator type",
        "Player sees damage feedback",
        "Player is knocked back if health depletes",
        "Health regenerates after combat ends"
      ],
      "dependencies": [
        8
      ],
      "codeLocation": "src/shared/PredatorConfig.lua",
      "status": "completed"
    },
    {
      "id": 11,
      "category": "Combat-PvP",
      "title": "Implement Player Knockback from Bat Hit",
      "description": "When a player hits another player with a bat, the target should be thrown and incapacitated for a duration.",
      "completed": true,
      "status": "completed",
      "priority": "high",
      "steps": [
        "Add PLAYER_INCAPACITATE_DURATION constant (e.g., 3 seconds)",
        "Implement player hit detection in BaseballBat.hitPlayer()",
        "Calculate knockback direction and force",
        "Apply BodyVelocity to knocked player for throw effect",
        "Set knocked player state to incapacitated",
        "Disable player movement during incapacitation",
        "Show visual effect (stars, dizzy) during incapacitation",
        "Re-enable movement after duration expires"
      ],
      "acceptanceCriteria": [
        "Hitting a player with bat throws them backward",
        "Hit player is incapacitated and cannot move",
        "Incapacitation lasts for configured duration",
        "Player regains control after timer expires",
        "Visual feedback shows incapacitation state"
      ],
      "dependencies": [
        8
      ],
      "codeLocation": "src/shared/BaseballBat.lua"
    },
    {
      "id": 12,
      "category": "Tutorial-Overhaul",
      "title": "Simplify Tutorial - Start With Store Money",
      "description": "Change starting conditions: players start with enough money to buy a common egg (not given an egg).",
      "completed": true,
      "priority": "critical",
      "steps": [
        "Modify PlayerData default template to start with starting money (e.g., 100 coins)",
        "Remove starter egg from default inventory",
        "Adjust starting money to match common egg price",
        "Update any references to starter egg in tests"
      ],
      "acceptanceCriteria": [
        "New players start with money instead of a starter egg",
        "Starting money is exactly enough to buy common egg",
        "Inventory starts empty",
        "Data validation passes for new player data"
      ],
      "dependencies": [],
      "codeLocation": "src/shared/PlayerData.lua"
    },
    {
      "id": 13,
      "category": "Tutorial-Overhaul",
      "title": "Create Arrow-Based Tutorial System",
      "description": "Replace verbose tutorial with simple arrows guiding player to store, then to placement spot.",
      "completed": true,
      "status": "completed",
      "priority": "high",
      "steps": [
        "Simplify TUTORIAL_STEPS to just 2-3 steps",
        "Create 3D arrow indicator that points to objectives",
        "Step 1: Arrow points to store with text 'Buy an egg!'",
        "Step 2: After purchase, arrow points to coop spot with text 'Place your egg!'",
        "Step 3: Brief completion message",
        "Remove all intermediate verbose steps",
        "Arrow follows player camera and always points to objective"
      ],
      "acceptanceCriteria": [
        "Tutorial uses visual arrows instead of text popups",
        "Arrow points to store initially",
        "After buying egg, arrow points to placement spot",
        "Tutorial completes after egg is placed",
        "Tutorial is much shorter than before"
      ],
      "dependencies": [
        12
      ],
      "codeLocation": "src/client/Tutorial.lua"
    },
    {
      "id": 14,
      "category": "Chicken-Health",
      "title": "Add Chicken Health Bar System",
      "description": "Chickens should have a health bar that shows when predators are attacking. Health recovers if player wards off predator.",
      "completed": true,
      "priority": "high",
      "steps": [
        "Add health field to ChickenData in PlayerData",
        "Create ChickenHealthBar.lua client module",
        "Display health bar above chickens when damaged",
        "Hide health bar when chicken is at full health",
        "Implement damage application from predator attacks",
        "Implement health regeneration when not under attack",
        "Health regen rate configurable per chicken type"
      ],
      "acceptanceCriteria": [
        "Chickens have health property",
        "Health bar shows when chicken is damaged",
        "Health bar hidden at full health",
        "Health regenerates over time when safe",
        "Chicken dies if health reaches 0"
      ],
      "dependencies": [],
      "codeLocation": "src/shared/ChickenConfig.lua",
      "status": "complete"
    },
    {
      "id": 15,
      "category": "Chicken-Income",
      "title": "Reduce Income for Damaged Chickens",
      "description": "Chickens that are damaged from attacks should generate less money proportional to their remaining health.",
      "completed": true,
      "status": "complete",
      "priority": "medium",
      "steps": [
        "Modify MoneyCollection.calculateAccumulated() to check chicken health",
        "Calculate income multiplier based on health percentage",
        "Full health = 100% income, 50% health = 50% income, etc.",
        "Update chicken visual to show damaged state",
        "Display income reduction indicator on damaged chickens"
      ],
      "acceptanceCriteria": [
        "Damaged chickens produce less money",
        "Income scales with health percentage",
        "Full health chickens produce normal income",
        "Visual indicator shows reduced income state"
      ],
      "dependencies": [
        14
      ],
      "codeLocation": "src/shared/MoneyCollection.lua"
    },
    {
      "id": 16,
      "category": "Predator-Warning",
      "title": "Implement Predator Attack Warning System",
      "description": "Add warning notifications when predators are attacking chickens.",
      "completed": true,
      "status": "completed",
      "priority": "high",
      "steps": [
        "Create PredatorWarning.lua client module",
        "Show screen flash or edge indicator when predator spawns",
        "Play warning sound effect",
        "Show directional indicator pointing to predator",
        "Display 'Chicken Under Attack!' message with predator type",
        "Add minimap marker for active predators",
        "Warning clears when predator is defeated/escapes"
      ],
      "acceptanceCriteria": [
        "Players receive visual warning when predator attacks",
        "Warning shows direction to predator",
        "Warning identifies predator type",
        "Warning clears after predator dealt with"
      ],
      "dependencies": [],
      "codeLocation": "src/client/PredatorWarning.lua"
    },
    {
      "id": 17,
      "category": "Store-Supplies",
      "title": "Create Supplies Store",
      "description": "Add a second store where players can buy traps and coop strengthening supplies.",
      "completed": false,
      "priority": "medium",
      "steps": [
        "Create SuppliesStore.lua shared module",
        "Define trap items with prices",
        "Define coop upgrade items (stronger fences, better roofs, etc.)",
        "Create physical store location in map near player sections",
        "Add SuppliesStoreUI.lua client module",
        "Wire purchase handlers to server",
        "Add Robux purchase option for all supplies"
      ],
      "acceptanceCriteria": [
        "Supplies store exists as separate location",
        "Players can buy traps from supplies store",
        "Players can buy coop upgrades",
        "Robux option available for all items",
        "Items are added to player inventory"
      ],
      "dependencies": [
        2
      ],
      "codeLocation": "src/shared/SuppliesStore.lua"
    },
    {
      "id": 18,
      "category": "Store-Weapons",
      "title": "Create Weapons Store",
      "description": "Add a weapons store where players can buy better weapons: bat, sword, and axe.",
      "completed": false,
      "priority": "medium",
      "steps": [
        "Create WeaponConfig.lua with weapon definitions",
        "Define Baseball Bat (starter, low damage)",
        "Define Sword (medium damage, faster swing)",
        "Define Axe (high damage, slower swing)",
        "Create WeaponsStore.lua shared module",
        "Create physical weapons store location",
        "Create WeaponsStoreUI.lua client module",
        "Add equippedWeapon field to PlayerData",
        "Wire weapon purchase and equip logic",
        "Add Robux purchase option"
      ],
      "acceptanceCriteria": [
        "Weapons store sells bat, sword, and axe",
        "Each weapon has different damage and speed stats",
        "Players can buy and equip different weapons",
        "Weapon visuals change based on equipped weapon",
        "Robux option available"
      ],
      "dependencies": [
        8
      ],
      "codeLocation": "src/shared/WeaponConfig.lua"
    },
    {
      "id": 19,
      "category": "Defense-Shield",
      "title": "Implement Area Shield Button",
      "description": "Add a button that creates a 60-second shield keeping predators and players out of player's area.",
      "completed": false,
      "priority": "medium",
      "steps": [
        "Create ShieldButton physical object in each player section",
        "Add isShieldActive and shieldCooldown to PlayerData",
        "Implement 60-second shield duration",
        "Create visual barrier effect around section when active",
        "Block predator spawns in section during shield",
        "Prevent other players from entering section during shield",
        "Add cooldown timer (e.g., 5 minutes) before reuse",
        "Display countdown timer above button",
        "Wire button interaction to server"
      ],
      "acceptanceCriteria": [
        "Pressing button activates 60-second shield",
        "Predators cannot spawn/enter during shield",
        "Other players cannot enter during shield",
        "Timer above button shows cooldown",
        "Button is disabled during cooldown"
      ],
      "dependencies": [],
      "codeLocation": "src/shared/AreaShield.lua"
    },
    {
      "id": 20,
      "category": "RandomChicken-BugFix",
      "title": "Fix Random Chickens Not Collectible",
      "description": "Players cannot collect chickens that are dropped in the arena. Fix the claim interaction.",
      "completed": true,
      "priority": "critical",
      "steps": [
        "Verify ClaimRandomChicken RemoteFunction exists and is connected",
        "Check proximity detection for random chickens",
        "Add E key interaction prompt for random chickens",
        "Wire claim interaction to RandomChickenSpawn.claimChicken()",
        "Transfer claimed chicken to player inventory",
        "Remove chicken from arena after claim",
        "Fire RandomChickenClaimed event to all clients"
      ],
      "acceptanceCriteria": [
        "Players see 'Press E to claim' near random chickens",
        "Pressing E claims the chicken",
        "Claimed chicken appears in player inventory",
        "Chicken despawns from arena after claim",
        "Only one player can claim each chicken"
      ],
      "dependencies": [],
      "codeLocation": "src/server/Main.server.lua"
    },
    {
      "id": 21,
      "category": "RandomChicken-BugFix",
      "title": "Fix Random Chickens Accumulating Money Before Placed",
      "description": "Random chickens should not accumulate money until a player places them in their coop.",
      "completed": true,
      "priority": "high",
      "steps": [
        "Add isPlaced flag to SpawnedChicken type",
        "Set isPlaced = false for arena-spawned chickens",
        "Modify MoneyCollection to skip unplaced chickens",
        "Only start money accumulation after chicken is placed in coop",
        "Random chickens in arena should have accumulatedMoney = 0"
      ],
      "acceptanceCriteria": [
        "Random chickens in arena show $0 accumulated",
        "Money only starts accumulating after placement",
        "Placed chickens accumulate normally"
      ],
      "dependencies": [
        20
      ],
      "codeLocation": "src/client/ChickenVisuals.lua"
    },
    {
      "id": 22,
      "category": "RandomChicken-Movement",
      "title": "Implement Random Chicken Walking Behavior",
      "description": "Random chickens in the arena should walk around instead of staying static.",
      "completed": true,
      "status": "complete",
      "priority": "medium",
      "steps": [
        "Create ChickenAI.lua shared module for movement logic",
        "Implement wandering behavior with random direction changes",
        "Set movement speed based on chicken type",
        "Keep chickens within neutral zone boundaries",
        "Add idle animations between walking",
        "Chickens should avoid obstacles",
        "Sync movement to all clients via server"
      ],
      "acceptanceCriteria": [
        "Random chickens move around the arena",
        "Chickens change direction periodically",
        "Chickens stay within the neutral zone",
        "Movement looks natural with animations",
        "All clients see same chicken positions"
      ],
      "dependencies": [
        20
      ],
      "codeLocation": "src/shared/ChickenAI.lua"
    },
    {
      "id": 23,
      "category": "Predator-AI",
      "title": "Implement Predator NPC Walking Behavior",
      "description": "Predators should walk around like NPCs instead of spawning directly in player bases.",
      "completed": true,
      "status": "complete",
      "priority": "high",
      "steps": [
        "Create PredatorAI.lua shared module",
        "Spawn predators at map edges, not inside bases",
        "Implement pathfinding toward target player section",
        "Predator walks toward coop over time",
        "Add approach animation and sounds",
        "Players can intercept predator before it reaches coop",
        "Predator attacks only when it reaches the coop"
      ],
      "acceptanceCriteria": [
        "Predators spawn at map boundaries",
        "Predators walk toward player coops",
        "Movement is visible and can be intercepted",
        "Predators don't teleport into bases",
        "Attack only begins when predator reaches coop"
      ],
      "dependencies": [],
      "codeLocation": "src/shared/PredatorAI.lua"
    },
    {
      "id": 24,
      "category": "Predator-AI",
      "title": "Add Predator Roaming Behavior",
      "description": "Predators should roam the map looking for targets rather than spawning with a fixed target.",
      "completed": false,
      "priority": "medium",
      "steps": [
        "Add roaming state to predator state machine",
        "Predators spawn and roam neutral zones",
        "Predators detect nearby player sections with chickens",
        "Predator chooses target based on proximity and chicken count",
        "Add visual indicator when predator is stalking a section",
        "Predators can be distracted or lured away"
      ],
      "acceptanceCriteria": [
        "Predators roam before selecting a target",
        "Target selection based on proximity and opportunity",
        "Players can see predators roaming",
        "Predators can be intercepted during roam"
      ],
      "dependencies": [
        23
      ],
      "codeLocation": "src/shared/PredatorAI.lua"
    },
    {
      "id": 25,
      "category": "Integration",
      "title": "Wire Store UI to Client Main",
      "description": "Connect the new StoreUI module to Main.client.lua and handle store interactions.",
      "completed": true,
      "priority": "high",
      "steps": [
        "Require StoreUI module in Main.client.lua",
        "Create store interaction zone detection",
        "Show 'Press E to open store' when in range",
        "Call StoreUI.open() when E pressed in range",
        "Wire purchase callbacks to RemoteFunctions",
        "Update player money display after purchases"
      ],
      "acceptanceCriteria": [
        "Store prompt appears near store location",
        "E key opens store UI",
        "Purchases work and update inventory",
        "Money balance updates correctly"
      ],
      "dependencies": [
        1,
        2,
        3
      ],
      "codeLocation": "src/client/Main.client.lua",
      "status": "completed"
    },
    {
      "id": 26,
      "category": "Integration",
      "title": "Wire Combat System to Client Main",
      "description": "Connect weapon equipping and combat to Main.client.lua.",
      "completed": true,
      "status": "completed",
      "priority": "high",
      "steps": [
        "Add weapon equip keybind (1 for bat, 2 for sword, 3 for axe)",
        "Create weapon model attachment to player character",
        "Wire swing input (left click) to combat logic",
        "Handle swing cooldown display",
        "Wire hit detection to server RemoteFunction",
        "Show damage numbers on hit"
      ],
      "acceptanceCriteria": [
        "Number keys equip different weapons",
        "Left click swings equipped weapon",
        "Hits register on predators and players",
        "Damage feedback is shown"
      ],
      "dependencies": [
        8,
        10,
        11
      ],
      "codeLocation": "src/client/Main.client.lua"
    },
    {
      "id": 27,
      "category": "Integration",
      "title": "Wire Predator AI to Server Main",
      "description": "Connect predator AI movement and spawning to Main.server.lua.",
      "completed": true,
      "status": "complete",
      "priority": "high",
      "steps": [
        "Require PredatorAI module in Main.server.lua",
        "Replace instant spawning with edge spawning",
        "Run AI update loop for all active predators",
        "Sync predator positions to all clients",
        "Handle predator reaching coop to start attack"
      ],
      "acceptanceCriteria": [
        "Predators spawn at map edges",
        "Predators move toward targets",
        "All clients see predator movement",
        "Attacks start when predator reaches coop"
      ],
      "dependencies": [
        23,
        24
      ],
      "codeLocation": "src/server/Main.server.lua"
    },
    {
      "id": 28,
      "category": "Integration",
      "title": "Wire Random Chicken AI to Server Main",
      "description": "Connect random chicken movement to Main.server.lua.",
      "completed": false,
      "priority": "medium",
      "steps": [
        "Require ChickenAI module in Main.server.lua",
        "Run AI update loop for random spawned chickens",
        "Sync chicken positions to all clients",
        "Handle chicken claim interactions"
      ],
      "acceptanceCriteria": [
        "Random chickens move in arena",
        "Movement synced to all clients",
        "Chickens can still be claimed while moving"
      ],
      "dependencies": [
        22
      ],
      "codeLocation": "src/server/Main.server.lua"
    },
    {
      "id": 29,
      "category": "RemoteEvents",
      "title": "Add Missing RemoteEvents for New Features",
      "description": "Create RemoteEvents needed for new store, combat, and shield features.",
      "completed": true,
      "priority": "high",
      "steps": [
        "Add StoreOpened RemoteEvent",
        "Add StoreReplenished RemoteEvent",
        "Add StoreInventoryUpdated RemoteEvent",
        "Add WeaponEquipped RemoteEvent",
        "Add PlayerDamaged RemoteEvent",
        "Add PlayerIncapacitated RemoteEvent",
        "Add ShieldActivated RemoteEvent",
        "Add ShieldDeactivated RemoteEvent",
        "Add ChickenDamaged RemoteEvent",
        "Add PredatorPositionUpdated RemoteEvent"
      ],
      "acceptanceCriteria": [
        "All new RemoteEvents are created",
        "Events are properly organized in Remotes folder",
        "Events fire and receive correctly"
      ],
      "dependencies": [],
      "codeLocation": "src/server/RemoteSetup.lua",
      "status": "completed"
    },
    {
      "id": 30,
      "category": "Testing",
      "title": "Add Integration Tests for Store Features",
      "description": "Create tests for store inventory, replenishment, and purchase flows.",
      "completed": false,
      "priority": "medium",
      "steps": [
        "Test store inventory initialization",
        "Test item purchase decrements stock",
        "Test sold out items cannot be purchased",
        "Test store replenishment adds items",
        "Test rarity weighting in replenishment"
      ],
      "acceptanceCriteria": [
        "All store tests pass",
        "Edge cases are covered",
        "Tests are added to IntegrationTests.lua"
      ],
      "dependencies": [
        3,
        4
      ],
      "codeLocation": "src/shared/IntegrationTests.lua"
    },
    {
      "id": 31,
      "category": "Testing",
      "title": "Add Integration Tests for Combat System",
      "description": "Create tests for weapon damage, knockback, and incapacitation.",
      "completed": false,
      "priority": "medium",
      "steps": [
        "Test weapon equip/unequip",
        "Test swing cooldown",
        "Test predator damage calculation",
        "Test player knockback force",
        "Test incapacitation duration"
      ],
      "acceptanceCriteria": [
        "All combat tests pass",
        "Damage values are correct",
        "Tests are added to IntegrationTests.lua"
      ],
      "dependencies": [
        8,
        10,
        11
      ],
      "codeLocation": "src/shared/IntegrationTests.lua"
    },
    {
      "id": 32,
      "category": "Testing",
      "title": "Add Integration Tests for AI Systems",
      "description": "Create tests for predator and chicken AI movement.",
      "completed": false,
      "priority": "medium",
      "steps": [
        "Test predator spawn at map edge",
        "Test predator pathfinding",
        "Test chicken wandering bounds",
        "Test AI state transitions"
      ],
      "acceptanceCriteria": [
        "All AI tests pass",
        "Movement stays in bounds",
        "Tests are added to IntegrationTests.lua"
      ],
      "dependencies": [
        22,
        23
      ],
      "codeLocation": "src/shared/IntegrationTests.lua"
    }
  ],
  "priorityOrder": [
    "Fix critical bugs first (Store E key, Bat equipping, Random chicken collection)",
    "Implement core store functionality (inventory, UI, replenishment)",
    "Fix tutorial to new flow",
    "Implement combat improvements (health bars, damage)",
    "Add AI for predators and chickens",
    "Add new stores (supplies, weapons)",
    "Add power-ups and shield",
    "Wire all integrations",
    "Add tests"
  ],
  "notes": [
    "All Robux features require Developer Products to be created in Roblox Studio",
    "Test thoroughly in Studio before publishing",
    "Consider mobile controls for all new interactions"
  ]
}